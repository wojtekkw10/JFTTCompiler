/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package compiler;
import org.antlr.v4.runtime.*;
import org.antlr.v4.runtime.tree.ParseTreeWalker;
import parser.JFTTLexer;
import parser.JFTTParser;

public class App {

    public static void main(String[] args){
        BaseArgParser argumentParser = new ArgParser();
        argumentParser.parse(args);

        JFTTLexer lexer = new JFTTLexer(argumentParser.getCharStream());
        JFTTParser parser = new JFTTParser(new CommonTokenStream(lexer));

        ParseTreeWalker walker = new ParseTreeWalker();
        SymbolTableGenerator symbolTableGenerator = new SymbolTableGenerator();
        walker.walk(symbolTableGenerator, parser.program());

        if( parser.getNumberOfSyntaxErrors() == 0 ) System.out.println("> Symbol Table Created Successfully");
        else System.err.println("> Error: Syntax Errors");
    }
}
